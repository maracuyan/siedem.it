@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Nunito:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

$theme-colors: (
  "primary-bg": #121212,
  "secondary-bg": #1E1E1E,
  "primary-text": #FFFFFF,
  "accent-color": #BB86FC,
  "link-color": #BB86FC,
  "link-hover-color": #D1B0FF
);

// Define custom colors using Tailwind's theme extension
@layer base {
  :root {
    --primary-bg: #{map-get($theme-colors, "primary-bg")};
    --secondary-bg: #{map-get($theme-colors, "secondary-bg")};
    --primary-text: #{map-get($theme-colors, "primary-text")};
    --accent-color: #{map-get($theme-colors, "accent-color")};
    --link-color: #{map-get($theme-colors, "link-color")};
    --link-hover-color: #{map-get($theme-colors, "link-hover-color")};
  }

  body {
    @apply bg-black text-primary-text font-nunito leading-8 tracking-wide font-normal;
  }

  h1, .h1 {
    @apply text-3xl font-bold;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-nunito text-primary-text mb-2 tracking-wider;
  }

  a {
    @apply text-link-color no-underline;

    &:hover, &:focus {
      @apply text-link-hover-color underline;
    }
  }
}

.post-category {
  font-size: 1.2em;
  font-style: italic;
  color: #888;
}

.post-container {
  @apply bg-secondary-bg rounded-md p-5 mb-5 border border-gray-700 shadow-md;
}

.cta-button {
  @apply inline-block bg-accent-color text-primary-bg py-2 px-4 rounded-md font-bold mt-3 transition-colors duration-300;

  &:hover, &:focus {
    @apply bg-blue-600 text-primary-bg no-underline;
  }
}

.post-content {
  max-width: 650px;
  margin-left: auto;
  margin-right: auto;

  img, figure, video, pre, .highlight {
    max-width: 100%;
    height: auto;
  }

  iframe {
    max-width: 100%;
  }
}

ul, ol {
  margin-left: 1.5em;
  padding-left: 0.5em;
  margin-bottom: 1em;
  li {
    margin-bottom: 0.25em;
  }
}

blockquote {
  @apply bg-secondary-bg border-l-4 border-accent-color p-4 my-6;
}

code:not(pre > code) {
  @apply bg-gray-800 px-1 py-0.5 rounded-md font-mono text-sm text-primary-text;
}

pre {
  @apply bg-gray-800 p-4 rounded-md overflow-x-auto my-6 border-none;
  code {
    @apply bg-transparent p-0 text-inherit border-none rounded-none;
  }
}

img {
  @apply max-w-full h-auto block mx-auto rounded-md my-4;
}

hr {
  @apply border-0 h-1 bg-secondary-bg my-8;
}

.site-header {
  @apply fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-80 backdrop-blur-md -webkit-backdrop-filter: blur(10px) p-2 border-b border-accent-color shadow-md;
  border-bottom: 1px solid var(--accent-color);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

  .wrapper {
    @apply flex justify-between items-center max-w-full;
    @media screen and (max-width: 768px) {
      @apply px-2;
    }
  }
}

.site-title, .site-title:visited {
  @apply text-primary-text text-xl;
}

.main-nav {
  @apply flex items-center flex-grow;

  ul {
    @apply list-none p-0 m-0 flex items-center flex-grow;

    li {
      @apply ml-4;
      a {
        @apply no-underline text-primary-text text-sm;

        &:hover {
          @apply text-link-hover-color no-underline;
        }
      }
    }

    li:first-child {
      @apply ml-0;
    }
  }

  .search-icon {
    @apply ml-4;

    svg {
      @apply w-5 h-5 fill-link-color align-middle;
    }

    &:hover svg {
      @apply fill-link-hover-color;
    }
  }
}

.bottom-navbar {
  @apply fixed bottom-0 left-0 right-0 w-full z-50 bg-opacity-90 backdrop-blur-sm -webkit-backdrop-filter: blur(10px) border-t border-gray-700 flex justify-around items-center p-1 text-sm;

  .nav-item {
    @apply flex flex-col items-center no-underline text-primary-text;

    svg {
      @apply w-5 h-5 mb-1 fill-primary-text;
    }

    &:hover, &:focus {
      @apply text-accent-color;

      svg {
        @apply fill-accent-color;
      }
    }
  }

  @media (min-width: 768px) {
    @apply hidden;
  }
}

.welcome-section {
  @apply mb-24;
}

.page-content {
  @apply pt-24 pb-12;

  @media (min-width: 768px) {
    @apply pb-5;
  }
}

.post-list {
  @apply list-none pl-0;

  li {
    @apply bg-secondary-bg rounded-md mb-5 border border-gray-700 shadow-md transition-transform duration-200 ease-in-out transition-shadow duration-200 ease-in-out;

    &:hover {
      @apply transform translate-y-1 shadow-xl;
    }
  }
}

.post-card-thumbnail {
  @apply w-full max-h-52 overflow-hidden mb-2 rounded-t-md;

  img {
    @apply w-full h-full object-cover block m-0 rounded-none;
  }
}

a.post-card-link {
  @apply block color-inherit no-underline;

  &:hover, &:focus {
    @apply no-underline;
  }

  &:hover .post-card-content h3 {
    @apply text-accent-color;
  }
}

.post-card-content {
  @apply p-3;

  h3 {
    @apply text-primary-text mt-0 mb-1;
  }

  .post-meta {
    @apply block text-sm text-gray-500 mb-2;
  }

  .post-excerpt {
    p {
      @apply text-gray-400 text-sm;

      &:last-child {
        @apply mb-0;
      }
    }
  }
}

.wrapper {
    max-width: -webkit-calc(800px - (theme('spacing.4')));
    max-width:         calc(800px - (theme('spacing.4')));
    margin-right:  auto;
    margin-left:   auto;
    padding-right: theme('spacing.2');
    padding-left:  theme('spacing.2');
    @extend %clearfix; // From Minima

    @media screen and (max-width: $on-laptop) { // Minima variable for laptop screens

        max-width: -webkit-calc(800px - (#{$spacing-unit}));
        max-width:         calc(800px - (#{$spacing-unit}));
        padding-right: $spacing-unit / 2;
        padding-left:  $spacing-unit / 2;
    }
    @media screen and (max-width: $on-palm) { // Minima variable
        max-width: -webkit-calc(100% - (#{$spacing-unit})); // Take more width on small screens
        max-width:         calc(100% - (#{$spacing-unit}));
    }
}

.sidebar {
  @apply fixed top-0 right-0 w-80 h-full bg-secondary-bg shadow-lg z-50 transition-right duration-300 overflow-y-auto p-5 box-border text-primary-text;

  @media screen and (max-width: 600px) {
    @apply w-4/5;
    right: -80%;
  }

  &.open {
    right: 0;
  }
}

.sidebar-close-btn {
  @apply absolute top-2 right-3 bg-transparent border-none text-primary-text text-2xl cursor-pointer;

  &:hover {
    @apply text-link-hover-color;
  }
}

.sidebar-content {
  @apply mt-5;

  h2 {
    @apply text-accent-color mt-6 mb-2;

    &:first-child {
      @apply mt-0;
    }
  }

  p {
    @apply leading-7 mb-2;
  }

  #sidebar-search-input {
    @apply w-full p-2 mb-2 border border-gray-700 bg-primary-bg text-primary-text rounded-md;
  }
}

.sidebar-overlay {
  @apply fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 z-40 hidden;

  &.active {
    @apply block;
  }
}

.social-sharing {
  @apply flex justify-center mt-4;

  a {
    @apply bg-gray-800 hover:bg-gray-700 text-primary-text font-bold py-2 px-4 rounded;
    margin: 0 0.5em;
  }
}

.post-author {
  @apply text-gray-500 mt-2;
}
